[include configs/*.cfg]
[include mainsail.cfg]


# This file contains common pin mappings for the Voron Leviathan V1.1
# To use this config, the firmware should be compiled for the STM32F446 with "No bootloader"
# Enable "extra low-level configuration options" and select the "12MHz crystal" as clock reference

# See docs/Config_Reference.md for a description of parameters.

## Voron Design VORON 2 250/300/350mm Leviathan V1.1 config

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                            [mcu] section
## Thermistor types                     [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Z Endstop Switch location            [safe_z_home] section
## Homing end position                  [gcode_macro G32] section
## Z Endstop Switch  offset for Z0      [stepper_z] section
## Probe points                         [quad_gantry_level] section
## Min & Max gantry corner postions     [quad_gantry_level] section
## PID tune                             [extruder] and [heater_bed] sections
## Probe pin                            [probe] section
## Fine tune E steps                    [extruder] section

#####################################################################
#   MCU Settings
#####################################################################


[mcu] # LDO Leviathan
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_510055001851323139353737-if00
restart_method: command
##--------------------------------------------------------------------

[mcu EBBCan] #BTT EBB36 Toolhead
canbus_uuid: a5efedc08bd5

[mcu scanner] #Cartographer3D
canbus_uuid: 8ed23c97b804 
#serial: /dev/serial/by-id/usb-cartographer_cartographer_

#####################################################################
#   Cartographer Settings
#####################################################################

[scanner]
mcu: scanner            
#   Offsets are measured from the center of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
x_offset: 0                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 22.257                         
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 0.01007
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc      
mesh_runs: 2
#    Number of passes to make during mesh scan.
mode: touch


#####################################################################
#   Printer Settings
#####################################################################


[printer]
kinematics: corexy
max_velocity: 1100  
max_accel: 20000
max_z_velocity: 15          #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 200
square_corner_velocity: 5.0


#####################################################################
#   X/Y Stepper Settings
#####################################################################


##  B Stepper - Left
##  Connected to HV STEPPER 0
##  Endstop connected to X-ENDSTOP
[stepper_x]
step_pin: PB10
dir_pin: PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^EBBCan: PB9
position_min: 0
##--------------------------------------------------------------------

position_endstop: 300
position_max: 300

##--------------------------------------------------------------------
homing_speed: 50   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_x]
cs_pin: PE15
spi_bus: spi4
#diag0_pin: ^!PG1
interpolate: true
run_current: 1.0
#stealthchop_threshold: 0



##  A Stepper - Right
##  Connected to HV STEPPER 1
##  Endstop connected to Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^PC2
position_min: 0
##--------------------------------------------------------------------

position_endstop: 308
position_max: 308

##--------------------------------------------------------------------
homing_speed: 50  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_y]
cs_pin: PE11
spi_bus: spi4
#diag0_pin: ^!PE10
interpolate: true
run_current: 1.0
#stealthchop_threshold: 0

 
#####################################################################
#   Z Stepper Settings
#####################################################################


## Z0 Stepper - Front Left
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32
endstop_pin: probe:z_virtual_endstop # uses cartographer as virtual endstop
homing_retract_dist: 0
##  Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
##  (+) value = endstop above Z0, (-) value = endstop below
##  Increasing position_endstop brings nozzle closer to the bed
##  After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config

position_max: 280
position_min: -5
homing_speed: 20
second_homing_speed: 3
homing_retract_dist: 3

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z]
uart_pin: PD5
#diag_pin: ^!PD6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z1 Stepper - Rear Left
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z1]
uart_pin: PD0
#diag_pin: ^!PD1
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z2 Stepper - Rear Right
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 9:1  
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z2]
uart_pin: PA8
#diag_pin: ^!PA15
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z3 Stepper - Front Right
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z3]
uart_pin: PG8
#diag_pin: ^!PC6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0


#####################################################################
#   Extruder
#####################################################################


[extruder]
step_pin: EBBCan: PD0
dir_pin: EBBCan: PD1
enable_pin: !EBBCan: PD2
microsteps: 16
rotation_distance: 46.5338
gear_ratio: 9:1
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: EBBCan: PB13

sensor_type: MAX31865
sensor_pin: EBBCan: PA4
spi_bus: spi1
rtd_nominal_r: 100
rtd_reference_r: 430
rtd_num_of_wires: 2

#control: pid
#pid_Kp: 36.523
#pid_Ki: 3.581
#pid_Kd: 93.133

min_temp: 0
max_temp: 300
max_extrude_only_distance: 300
max_extrude_cross_section: 5


[tmc2209 extruder]
uart_pin: EBBCan: PA15
run_current: 0.60


#####################################################################
#   TMC Autotune
#####################################################################


[autotune_tmc stepper_x]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_y]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_z]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: auto

[autotune_tmc stepper_z1]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z2]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z3]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc extruder]
motor: ldo-36sth20-1004ahg-9T
voltage: 24
tuning_goal: performance


#####################################################################
#   Bed Heater
#####################################################################


[heater_bed]
##  SSR Pin - HEATBED
##  Thermistor - TH1
heater_pin: PG11
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
sensor_type: Generic 3950
sensor_pin: PA1
pullup_resistor: 2200
##  Adjust Max Power so your heater doesn't warp your bed. Rule of thumb is 0.4 watts / cm^2 .
max_power: 1.0
min_temp: 0
max_temp: 120


#control: pid
#pid_Kp: 42.596
#pid_ki: 1.487
#pid_kd: 305.093


#####################################################################
#   Temperature Sensors
#####################################################################

[temperature_sensor buildplate]
sensor_type: Generic 3950
sensor_pin: PA2
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PA0
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor Raspberry_Pi]
sensor_type: temperature_host
min_temp: -40
max_temp: 120


#####################################################################
#   Fan Control
#####################################################################


[fan]
##  Print Cooling Fan
pin: EBBCan: PA0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10

[heater_fan hotend_fan]
##  Hotend Fan
pin: EBBCan: PA1
tachometer_pin: EBBCan: PA3
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
fan_speed: 1.0


#[multi_pin electronics_fans]
#pins: PB7, PB3

[controller_fan skirt_fan]
pin: PB3
kick_start_time: 0.5
fan_speed: .25
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed

[controller_fan driver_fan]
pin: PB7
kick_start_time: 0.5
fan_speed: 1.0
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed


#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 150, 142.5 
z_hop: 10
speed: 450
z_hop_speed: 15

##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions


[quad_gantry_level]
gantry_corners: 
	-60,-10
	360,370
points:
   10,10  # Point 1
   10,252.743  # Point 2
   290,252.743 # Point 3
   290,10  # Point 4
#--------------------------------------------------------------------

speed: 450
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075
max_adjust: 10


#--------------------------------------------------------------------


#####################################################################
#   Macros
#####################################################################

[bed_mesh]
zero_reference_position: 150, 142.5    
#    set this to the middle of your bed
speed: 450
#    movement speed of toolhead during bed mesh
horizontal_move_z: 2.5
#    height of scanner during bed mesh scan
mesh_min: 10, 22.257
#    start point of bed mesh [X, Y]
mesh_max: 290, 252.743
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic


[gcode_macro QUAD_GANTRY_SCAN]
gcode = 
    STATUS_LEVELING
	QUAD_GANTRY_LEVEL horizontal_move_z=10 retry_tolerance=1.000
	QUAD_GANTRY_LEVEL horizontal_move_z=2
    G28 Z


[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x,-y,-z

[resonance_tester]
accel_chip: adxl345
probe_points:
    150, 142.5, 20


[exclude_object]


[gcode_arcs]
resolution = 0.1

[firmware_retraction]
retract_length: 0.8
#   The length of filament (in mm) to retract when G10 is activated,
#   and to unretract when G11 is activated (but see
#   unretract_extra_length below). The default is 0 mm.
retract_speed: 30
#   The speed of retraction, in mm/s. The default is 20 mm/s.
unretract_extra_length: 0.8
#   The length (in mm) of *additional* filament to add when
#   unretracting.
unretract_speed: 30
#   The speed of unretraction, in mm/s. The default is 10 mm/s.


[pause_resume]

[gcode_macro PAUSE]
rename_existing: BASE_PAUSE
gcode:
    # Parameters
    {% set z = params.Z|default(10)|int %}                                                   ; z hop amount

    {% if printer['pause_resume'].is_paused|int == 0 %}
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE={z}                              ; set z hop variable for reference in resume macro
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=etemp VALUE={printer['extruder'].target}    ; set hotend temp variable for reference in resume macro

        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0                                  ; disable filament sensor
        SAVE_GCODE_STATE NAME=PAUSE                                                          ; save current print position for resume
        BASE_PAUSE                                                                           ; pause print
        {% if (printer.gcode_move.position.z + z) < printer.toolhead.axis_maximum.z %}       ; check that zhop doesn't exceed z max
            G91                                                                              ; relative positioning
            G1 Z{z} F900                                                                     ; raise Z up by z hop amount
        {% else %}
            { action_respond_info("Pause zhop exceeds maximum Z height.") }                  ; if z max is exceeded, show message and set zhop value for resume to 0
            SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE=0
        {% endif %}
        G90                                                                                  ; absolute positioning
        G1 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_minimum.y+5} F27000   ; park toolhead at front center
        SAVE_GCODE_STATE NAME=PAUSEPARK                                                      ; save parked position in case toolhead is moved during the pause (otherwise the return zhop can error)
        M104 S0                                                                              ; turn off hotend
        SET_IDLE_TIMEOUT TIMEOUT=43200                                                       ; set timeout to 12 hours
    {% endif %}


[gcode_macro RESUME]
rename_existing: BASE_RESUME
variable_zhop: 0
variable_etemp: 0
gcode:
    # Parameters
    {% set e = params.E|default(2.5)|int %}                                          ; hotend prime amount (in mm)

    {% if printer['pause_resume'].is_paused|int == 1 %}
        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1                          ; enable filament sensor
        #INITIAL_RGB                                                                    ; reset LCD color
        SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout}  ; set timeout back to configured value
        {% if etemp > 0 %}
            M109 S{etemp|int}                                                        ; wait for hotend to heat back up
        {% endif %}
        RESTORE_GCODE_STATE NAME=PAUSEPARK MOVE=1 MOVE_SPEED=100                     ; go back to parked position in case toolhead was moved during pause (otherwise the return zhop can error)
        G91                                                                          ; relative positioning
        M83                                                                          ; relative extruder positioning
        {% if printer[printer.toolhead.extruder].temperature >= printer.configfile.settings.extruder.min_extrude_temp %}
            G1 Z{zhop * -1} E{e} F900                                                ; prime nozzle by E, lower Z back down
        {% else %}
            G1 Z{zhop * -1} F900                                                     ; lower Z back down without priming (just in case we are testing the macro with cold hotend)
        {% endif %}
        RESTORE_GCODE_STATE NAME=PAUSE MOVE=1 MOVE_SPEED=450                         ; restore position
        BASE_RESUME                                                                  ; resume print
    {% endif %}


[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:
    SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout} ; set timeout back to configured value
    CLEAR_PAUSE
    SDCARD_RESET_FILE
    PRINT_END
    BASE_CANCEL_PRINT



[gcode_macro M600]
gcode:
    {% set X = params.X|default(50)|float %}
    {% set Y = params.Y|default(0)|float %}
    {% set Z = params.Z|default(10)|float %}
    SAVE_GCODE_STATE NAME=M600_state
    PAUSE
    G91
    G1 E-.8 F2700
    G1 Z{Z}
    G90
    G1 X{X} Y{Y} F3000
    G91
    G1 E-50 F1000
    RESTORE_GCODE_STATE NAME=M600_state


[gcode_macro PARK]
gcode:
    {% set th = printer.toolhead %}
    G0 Z50 F1500
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y//2} F21000


[gcode_macro G32]
gcode:
   SAVE_GCODE_STATE NAME=STATE_G32
   G90
   G28
   QUAD_GANTRY_SCAN
   G28
   PARK
   RESTORE_GCODE_STATE NAME=STATE_G32


#####################################################################
#   Input Shaper
#####################################################################

[input_shaper]
shaper_freq_x: 53.0
shaper_freq_y: 39.8
shaper_type_x: mzv
shaper_type_y: mzv
damping_ratio_x: 0.094
damping_ratio_y: 0.056


#####################################################################
#   A better print_start macro for v2/trident
#####################################################################

## *** THINGS TO UNCOMMENT: ***
## Bed mesh (2 lines at 2 locations)
## Nevermore (if you have one)
## Z_TILT_ADJUST (For Trident only)
## QUAD_GANTRY_LEVEL (For V2.4 only)

[gcode_macro PRINT_START]
gcode:
  # This part fetches data from your slicer. Such as bed, extruder, and chamber temps and size of your printer.
  {% set target_bed = params.BED|int %}
  {% set target_extruder = params.EXTRUDER|int %}
  {% set target_chamber = params.CHAMBER|default("45")|int %}
  {% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
  {% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}

  SET_GCODE_OFFSET Z=0                                 # Set offset to 0
  SET_PIN PIN=caselight VALUE=15.00
  # Home the printer, set absolute positioning and update the Stealthburner LEDs.
  STATUS_HOMING                                         # Set LEDs to homing-mode
  G28                                                   # Full home (XYZ)
  G90                                                   # Absolute position

  ##  Uncomment for bed mesh (1 of 2 for bed mesh)
  BED_MESH_CLEAR                                       # Clear old saved bed mesh (if any)

  # Check if the bed temp is higher than 90c - if so then trigger a heatsoak.
  {% if params.BED|int > 90 %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    M106 S255                                           # Turn on the PT-fan


    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Heatsoak: {target_chamber}c"  # Display info on display
    TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={target_chamber}   # Waits for chamber temp

  # If the bed temp is not over 90c, then skip the heatsoak and just heat up to set temp with a 5 min soak
  {% else %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Soak for 5 min"               # Display info on display
    G4 P300000                                          # Wait 5 min for the bedtemp to stabilize
  {% endif %}

  # Heat hotend to 150c. This helps with getting a correct Z-home.
  SET_DISPLAY_TEXT MSG="Hotend: 150c"                   # Display info on display
  M109 S150                                             # Heat hotend to 150c
  Clean_Nozzle
  G28 Z

  ##  Uncomment for V2.4 (Quad gantry level AKA QGL)
  SET_DISPLAY_TEXT MSG="Leveling"                      # Display info on display
  STATUS_LEVELING                                      # Set LEDs to leveling-mode
  QUAD_GANTRY_SCAN                                     # Level the printer via QGL. Included Z home after
  ##  Uncomment for bed mesh (2 of 2 for bed mesh)
  SET_DISPLAY_TEXT MSG="Bed mesh"                      # Display info on display
  STATUS_MESHING                                       # Set LEDs to bed mesh-mode
  BED_MESH_CALIBRATE ADAPTIVE=1                        # Start the bed mesh (add ADAPTIVE=1) for adaptive bed mesh
  CARTOGRAPHER_TOUCH                                    # Calibrate z offset only with hot nozzle

  # Heat up the hotend up to target via data from slicer
  SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"     # Display info on display
  STATUS_HEATING                                        # Set LEDs to heating-mode
  G1 X{x_wait} Y{y_wait} Z15 F9000                      # Go to center of the bed
  M107                                                  # Turn off partcooling fan
  M109 S{target_extruder}                               # Heat the hotend to set temp

  # Get ready to print by doing a primeline and updating the LEDs
  SET_DISPLAY_TEXT MSG="Printer goes brr"               # Display info on display
  STATUS_PRINTING                                       # Set LEDs to printing-mode
  #G0 X{x_wait - 50} Y4 F10000                           # Go to starting point
  #G0 Z0.4                                               # Raise Z to 0.4
  G91                                                   # Incremental positioning 
  Smart_Park                                             # Parks nozzle for purge
  Line_Purge
  Clean_Nozzle
  G90                                                   # Absolute position
  SET_PIN PIN=caselight VALUE=5.00

   

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END
    
    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-10.0 F4800                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 2} F3600  ; park nozzle at rear
    M107                                     ; turn off fan
    M84
    SET_PIN PIN=caselight VALUE=0.00
    Status_Off
    SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=5
    SET_VELOCITY_LIMIT ACCEL=20000
    
    BED_MESH_CLEAR
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# scanner_touch_threshold = 1750
#*# scanner_touch_speed = 2
#*# scanner_touch_z_offset = 0.070
#*#
#*# [scanner model default]
#*# model_coef = 1.4000437335702214,
#*# 	1.8224112599367215,
#*# 	0.7395432534569518,
#*# 	0.3714368798647629,
#*# 	0.48445160667439696,
#*# 	0.4496759004671394,
#*# 	-0.41554456363852105,
#*# 	-0.4980251617042435,
#*# 	0.33614534556180525,
#*# 	0.31095228353313903
#*# model_domain = 3.2548108658538224e-07,3.3797449380118517e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 53.630858
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.0.0
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 37.610
#*# pid_ki = 3.634
#*# pid_kd = 97.316
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 42.113
#*# pid_ki = 1.485
#*# pid_kd = 298.476
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.102168, -0.051012, -0.031168, -0.018286, 0.001407, 0.011383, 0.017559, 0.023486, 0.027306, 0.029488, 0.031994, 0.036250, 0.038299, 0.037916, 0.032674, 0.027926, 0.021721, 0.016846, 0.010745, 0.002641, -0.005273, -0.014307, -0.022926, -0.031413, -0.041982, -0.054012, -0.065623, -0.076076, -0.087256, -0.134841
#*# 	-0.107374, -0.053257, -0.031986, -0.011714, 0.000750, 0.012160, 0.020582, 0.027074, 0.031309, 0.033976, 0.036571, 0.038432, 0.041304, 0.041084, 0.037175, 0.030320, 0.027353, 0.020682, 0.015438, 0.008277, 0.000014, -0.008742, -0.018667, -0.028880, -0.040436, -0.051816, -0.065064, -0.070936, -0.079860, -0.130557
#*# 	-0.094791, -0.043630, -0.021580, -0.002946, 0.013612, 0.026857, 0.034224, 0.038945, 0.045314, 0.050520, 0.051331, 0.053778, 0.056762, 0.056851, 0.052467, 0.047357, 0.040693, 0.035189, 0.030690, 0.024112, 0.017341, 0.006682, -0.001057, -0.012985, -0.023806, -0.034887, -0.044196, -0.054442, -0.062857, -0.109688
#*# 	-0.089109, -0.030563, -0.009568, 0.009848, 0.027113, 0.039871, 0.049550, 0.056144, 0.062129, 0.066849, 0.067485, 0.070938, 0.074537, 0.074122, 0.072852, 0.065000, 0.057924, 0.052765, 0.047029, 0.042420, 0.035778, 0.026522, 0.016442, 0.007613, -0.003429, -0.012967, -0.021934, -0.032182, -0.042357, -0.090181
#*# 	-0.084164, -0.028169, -0.004474, 0.013780, 0.029990, 0.043299, 0.053517, 0.061493, 0.068047, 0.071346, 0.074146, 0.077485, 0.083661, 0.081399, 0.075551, 0.070266, 0.065630, 0.058560, 0.051828, 0.046008, 0.040356, 0.031440, 0.022636, 0.016869, 0.007648, -0.003907, -0.013185, -0.022925, -0.034504, -0.084355
#*# 	-0.085555, -0.025364, -0.002426, 0.017161, 0.033822, 0.047082, 0.057594, 0.065800, 0.072125, 0.074913, 0.078102, 0.082395, 0.084238, 0.085371, 0.082458, 0.077606, 0.070425, 0.063700, 0.056948, 0.050525, 0.045039, 0.036244, 0.028730, 0.020414, 0.011133, -0.000085, -0.010924, -0.021614, -0.031391, -0.077861
#*# 	-0.070949, -0.016032, 0.006629, 0.025186, 0.042785, 0.056429, 0.065830, 0.073477, 0.080702, 0.084090, 0.086893, 0.090949, 0.094455, 0.094251, 0.090318, 0.088108, 0.081641, 0.071776, 0.063627, 0.058571, 0.051528, 0.043453, 0.035573, 0.027073, 0.018825, 0.008247, -0.002463, -0.013614, -0.024820, -0.071065
#*# 	-0.061023, -0.007242, 0.013375, 0.032206, 0.048605, 0.062198, 0.071776, 0.078671, 0.084294, 0.085774, 0.091139, 0.096458, 0.098728, 0.101413, 0.097816, 0.095028, 0.088564, 0.081500, 0.073671, 0.070569, 0.059129, 0.053998, 0.044164, 0.035553, 0.025868, 0.018680, 0.009031, -0.003145, -0.014218, -0.059104
#*# 	-0.058928, -0.007799, 0.014660, 0.033262, 0.048149, 0.062108, 0.072629, 0.079400, 0.084952, 0.088296, 0.090688, 0.093996, 0.097200, 0.098170, 0.096454, 0.093319, 0.088018, 0.086981, 0.079131, 0.074785, 0.065119, 0.053452, 0.044507, 0.038757, 0.031256, 0.022277, 0.010828, 0.001688, -0.010586, -0.061621
#*# 	-0.069793, -0.017453, 0.003803, 0.021721, 0.035718, 0.049279, 0.061906, 0.068167, 0.074118, 0.080735, 0.080751, 0.083419, 0.085594, 0.085972, 0.081032, 0.078368, 0.080130, 0.079660, 0.069811, 0.061707, 0.049609, 0.040259, 0.031954, 0.024533, 0.016656, 0.008544, -0.000967, -0.011771, -0.026587, -0.072954
#*# 	-0.088181, -0.036065, -0.015021, 0.002294, 0.016411, 0.029839, 0.040288, 0.046035, 0.052341, 0.057541, 0.059724, 0.063103, 0.065998, 0.064817, 0.062472, 0.061541, 0.059743, 0.052270, 0.044527, 0.036181, 0.026327, 0.017645, 0.010122, 0.004587, -0.002982, -0.013374, -0.024018, -0.035836, -0.046269, -0.097978
#*# 	-0.113476, -0.060094, -0.038825, -0.019931, -0.004605, 0.005644, 0.016714, 0.025562, 0.029175, 0.033423, 0.036383, 0.039880, 0.044398, 0.047035, 0.045844, 0.041351, 0.036064, 0.030226, 0.023123, 0.014078, 0.003020, -0.002391, -0.006937, -0.011399, -0.018367, -0.028650, -0.038692, -0.050934, -0.062603, -0.111869
#*# 	-0.125228, -0.074904, -0.053062, -0.034974, -0.019427, -0.006226, 0.005172, 0.012482, 0.016758, 0.020922, 0.024575, 0.028771, 0.034245, 0.037846, 0.035778, 0.030747, 0.022005, 0.016422, 0.009854, 0.004065, -0.003485, -0.010300, -0.014651, -0.019489, -0.027545, -0.035238, -0.045096, -0.055693, -0.065269, -0.114188
#*# 	-0.141045, -0.089254, -0.067361, -0.050284, -0.034657, -0.019966, -0.008188, -0.000063, 0.004569, 0.009100, 0.013824, 0.019200, 0.022822, 0.024730, 0.024640, 0.019009, 0.012696, 0.004786, -0.001556, -0.007423, -0.011581, -0.017082, -0.023936, -0.027681, -0.035836, -0.044705, -0.053411, -0.065229, -0.074365, -0.125939
#*# 	-0.147883, -0.097971, -0.076775, -0.061861, -0.045928, -0.030899, -0.019451, -0.013094, -0.008754, -0.000949, 0.004265, 0.008795, 0.013125, 0.014311, 0.013220, 0.008861, 0.000660, -0.007043, -0.012489, -0.018412, -0.021241, -0.025472, -0.031991, -0.037318, -0.045931, -0.053224, -0.063729, -0.075312, -0.085510, -0.132432
#*# 	-0.154489, -0.103731, -0.082597, -0.066139, -0.051721, -0.040155, -0.029572, -0.021320, -0.014878, -0.007183, -0.001981, 0.002023, 0.006123, 0.008741, 0.004675, 0.000934, -0.005570, -0.012847, -0.018017, -0.022767, -0.027589, -0.030477, -0.035537, -0.038005, -0.048739, -0.060412, -0.066360, -0.077783, -0.088923, -0.139686
#*# 	-0.159943, -0.110310, -0.090547, -0.074119, -0.060146, -0.048663, -0.037603, -0.029787, -0.023024, -0.017007, -0.012153, -0.005563, -0.002759, -0.000167, -0.002084, -0.008018, -0.013578, -0.019201, -0.022962, -0.027152, -0.032811, -0.037014, -0.042259, -0.047100, -0.053371, -0.062162, -0.071799, -0.082871, -0.092334, -0.140484
#*# 	-0.163900, -0.114743, -0.094515, -0.077972, -0.063895, -0.053762, -0.044146, -0.035861, -0.027458, -0.022774, -0.018302, -0.012845, -0.007484, -0.006064, -0.008056, -0.011941, -0.017663, -0.022748, -0.029514, -0.035052, -0.038753, -0.044630, -0.046849, -0.053777, -0.060790, -0.068827, -0.079330, -0.088673, -0.097135, -0.144583
#*# 	-0.170117, -0.117788, -0.098913, -0.083582, -0.069672, -0.057806, -0.048948, -0.042364, -0.035047, -0.027203, -0.022938, -0.016710, -0.012675, -0.011038, -0.014450, -0.017870, -0.023020, -0.030011, -0.035556, -0.041165, -0.044719, -0.048466, -0.053897, -0.060278, -0.067156, -0.074269, -0.086444, -0.097659, -0.106748, -0.156609
#*# 	-0.177807, -0.130381, -0.110351, -0.093075, -0.078870, -0.067116, -0.057047, -0.049721, -0.043272, -0.036763, -0.029694, -0.025743, -0.021644, -0.020420, -0.022901, -0.025280, -0.030917, -0.037977, -0.043679, -0.049876, -0.054369, -0.058758, -0.061465, -0.067238, -0.076490, -0.085516, -0.096578, -0.108194, -0.117523, -0.164960
#*# 	-0.179528, -0.129084, -0.108189, -0.089090, -0.074187, -0.062547, -0.053348, -0.045491, -0.038692, -0.032101, -0.025820, -0.021784, -0.020018, -0.018927, -0.021109, -0.021974, -0.029915, -0.037781, -0.044015, -0.049311, -0.054021, -0.057848, -0.061112, -0.065815, -0.072477, -0.081941, -0.093296, -0.108273, -0.116001, -0.169255
#*# 	-0.160632, -0.112645, -0.091818, -0.073263, -0.058221, -0.046094, -0.036577, -0.027787, -0.022533, -0.016576, -0.009836, -0.004130, -0.002764, -0.003240, -0.004169, -0.006838, -0.011939, -0.019894, -0.027556, -0.031157, -0.035851, -0.039558, -0.042152, -0.045287, -0.051953, -0.061619, -0.072764, -0.085813, -0.097085, -0.145757
#*# 	-0.131088, -0.083329, -0.062107, -0.045634, -0.030064, -0.016261, -0.006299, 0.000661, 0.006764, 0.013826, 0.019853, 0.023156, 0.025721, 0.027242, 0.025432, 0.022155, 0.014910, 0.007819, 0.003168, -0.000010, -0.004676, -0.009973, -0.012335, -0.017665, -0.025129, -0.033385, -0.044831, -0.058137, -0.068538, -0.115862
#*# 	-0.114702, -0.063463, -0.041503, -0.023904, -0.010404, 0.001710, 0.014278, 0.020634, 0.026838, 0.034392, 0.039984, 0.044185, 0.046846, 0.046517, 0.044698, 0.040560, 0.034323, 0.027384, 0.021753, 0.017024, 0.013510, 0.008955, 0.004911, 0.000512, -0.006679, -0.014226, -0.025341, -0.036760, -0.047501, -0.099061
#*# 	-0.106560, -0.059197, -0.036447, -0.018816, -0.003690, 0.010057, 0.019982, 0.027185, 0.035257, 0.041584, 0.046102, 0.048356, 0.050500, 0.051459, 0.048932, 0.044386, 0.038048, 0.031667, 0.025642, 0.020870, 0.018265, 0.013134, 0.008177, 0.005241, -0.000881, -0.008865, -0.019279, -0.030322, -0.041873, -0.089307
#*# 	-0.119095, -0.069122, -0.047920, -0.030914, -0.014906, -0.001526, 0.008303, 0.016610, 0.024994, 0.031350, 0.035162, 0.038741, 0.042807, 0.041699, 0.038874, 0.033708, 0.027298, 0.022851, 0.018177, 0.013932, 0.010736, 0.006558, 0.002870, 0.000752, -0.006480, -0.014059, -0.024340, -0.035701, -0.047124, -0.095107
#*# 	-0.117076, -0.069031, -0.048755, -0.033135, -0.019220, -0.008076, 0.001667, 0.010847, 0.019258, 0.025211, 0.028733, 0.033614, 0.037863, 0.037194, 0.034895, 0.030342, 0.024348, 0.019205, 0.015047, 0.009941, 0.005317, 0.000180, -0.001735, -0.003811, -0.009698, -0.019063, -0.028038, -0.039456, -0.050784, -0.096069
#*# 	-0.115610, -0.070699, -0.052980, -0.036590, -0.020935, -0.008209, 0.001617, 0.009141, 0.014646, 0.021107, 0.027104, 0.032357, 0.035896, 0.036412, 0.033170, 0.029749, 0.022907, 0.018209, 0.012379, 0.007726, 0.003941, -0.000474, -0.004127, -0.008352, -0.013544, -0.022279, -0.030413, -0.041055, -0.053364, -0.097541
#*# 	-0.118998, -0.075193, -0.057135, -0.040755, -0.025103, -0.011457, -0.000985, 0.006077, 0.013492, 0.020739, 0.027459, 0.032339, 0.034591, 0.034229, 0.031383, 0.028540, 0.023613, 0.018296, 0.013063, 0.009412, 0.006346, 0.001974, -0.002231, -0.008431, -0.014154, -0.020497, -0.028905, -0.037067, -0.048200, -0.095786
#*# 	-0.104296, -0.066781, -0.049816, -0.032589, -0.014878, -0.003151, 0.005264, 0.012291, 0.019617, 0.026496, 0.032159, 0.036331, 0.036530, 0.036964, 0.034507, 0.031844, 0.025295, 0.019801, 0.016284, 0.012795, 0.010221, 0.006583, 0.002595, -0.003701, -0.009621, -0.014995, -0.022794, -0.032613, -0.039999, -0.084895
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 10.0
#*# max_x = 290.0
#*# min_y = 22.257
#*# max_y = 267.743
