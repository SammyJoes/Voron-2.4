[include configs/*.cfg]
[include mainsail.cfg]


# This file contains common pin mappings for the Voron Leviathan V1.1
# To use this config, the firmware should be compiled for the STM32F446 with "No bootloader"
# Enable "extra low-level configuration options" and select the "12MHz crystal" as clock reference

# See docs/Config_Reference.md for a description of parameters.

## Voron Design VORON 2 250/300/350mm Leviathan V1.1 config

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                            [mcu] section
## Thermistor types                     [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Z Endstop Switch location            [safe_z_home] section
## Homing end position                  [gcode_macro G32] section
## Z Endstop Switch  offset for Z0      [stepper_z] section
## Probe points                         [quad_gantry_level] section
## Min & Max gantry corner postions     [quad_gantry_level] section
## PID tune                             [extruder] and [heater_bed] sections
## Probe pin                            [probe] section
## Fine tune E steps                    [extruder] section

#####################################################################
#   MCU Settings
#####################################################################


[mcu] # LDO Leviathan
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_510055001851323139353737-if00
restart_method: command
##--------------------------------------------------------------------

[mcu EBBCan] #BTT EBB36 Toolhead
canbus_uuid: a5efedc08bd5

[mcu scanner] #Cartographer3D
canbus_uuid: 8ed23c97b804 
#serial: /dev/serial/by-id/usb-cartographer_cartographer_

#####################################################################
#   Cartographer Settings
#####################################################################

[scanner]
mcu: scanner            
#   Offsets are measured from the center of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
x_offset: 0                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 22.257                         
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 0.00748
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc      
mesh_runs: 2
#    Number of passes to make during mesh scan.
mode: touch


#####################################################################
#   Printer Settings
#####################################################################


[printer]
kinematics: corexy
max_velocity: 1100  
max_accel: 20000
max_z_velocity: 15          #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 200
square_corner_velocity: 5.0


#####################################################################
#   X/Y Stepper Settings
#####################################################################


##  B Stepper - Left
##  Connected to HV STEPPER 0
##  Endstop connected to X-ENDSTOP
[stepper_x]
step_pin: PB10
dir_pin: PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^EBBCan: PB9
position_min: 0
##--------------------------------------------------------------------

position_endstop: 300
position_max: 300

##--------------------------------------------------------------------
homing_speed: 50   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_x]
cs_pin: PE15
spi_bus: spi4
#diag0_pin: ^!PG1
interpolate: true
run_current: 1.0
#stealthchop_threshold: 0



##  A Stepper - Right
##  Connected to HV STEPPER 1
##  Endstop connected to Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 64
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^PC2
position_min: 0
##--------------------------------------------------------------------

position_endstop: 308
position_max: 308

##--------------------------------------------------------------------
homing_speed: 50  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_y]
cs_pin: PE11
spi_bus: spi4
#diag0_pin: ^!PE10
interpolate: true
run_current: 1.0
#stealthchop_threshold: 0

 
#####################################################################
#   Z Stepper Settings
#####################################################################


## Z0 Stepper - Front Left
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32
endstop_pin: probe:z_virtual_endstop # uses cartographer as virtual endstop
homing_retract_dist: 0
##  Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
##  (+) value = endstop above Z0, (-) value = endstop below
##  Increasing position_endstop brings nozzle closer to the bed
##  After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config

position_max: 280
position_min: -5
homing_speed: 20
second_homing_speed: 3
homing_retract_dist: 3

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z]
uart_pin: PD5
#diag_pin: ^!PD6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z1 Stepper - Rear Left
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z1]
uart_pin: PD0
#diag_pin: ^!PD1
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z2 Stepper - Rear Right
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 9:1  
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z2]
uart_pin: PA8
#diag_pin: ^!PA15
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z3 Stepper - Front Right
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z3]
uart_pin: PG8
#diag_pin: ^!PC6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0


#####################################################################
#   Extruder
#####################################################################


[extruder]
step_pin: EBBCan: PD0
dir_pin: EBBCan: PD1
enable_pin: !EBBCan: PD2
microsteps: 16
rotation_distance: 47.1100952
gear_ratio: 9:1
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: EBBCan: PB13

sensor_type: MAX31865
sensor_pin: EBBCan: PA4
spi_bus: spi1
rtd_nominal_r: 100
rtd_reference_r: 430
rtd_num_of_wires: 2

#control: pid
#pid_Kp: 36.523
#pid_Ki: 3.581
#pid_Kd: 93.133

min_temp: 0
max_temp: 300
max_extrude_only_distance: 300
max_extrude_cross_section: 5


[tmc2209 extruder]
uart_pin: EBBCan: PA15
run_current: 0.60


#####################################################################
#   TMC Autotune
#####################################################################


[autotune_tmc stepper_x]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_y]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_z]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: auto

[autotune_tmc stepper_z1]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z2]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z3]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc extruder]
motor: ldo-36sth20-1004ahg-9T
voltage: 24
tuning_goal: performance


#####################################################################
#   Bed Heater
#####################################################################


[heater_bed]
##  SSR Pin - HEATBED
##  Thermistor - TH1
heater_pin: PG11
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
sensor_type: Generic 3950
sensor_pin: PA1
pullup_resistor: 2200
##  Adjust Max Power so your heater doesn't warp your bed. Rule of thumb is 0.4 watts / cm^2 .
max_power: 1.0
min_temp: 0
max_temp: 120
pwm_cycle_time: 0.02674 # 37.4Hz


#control: pid
#pid_Kp: 42.596
#pid_ki: 1.487
#pid_kd: 305.093


#####################################################################
#   Temperature Sensors
#####################################################################

[temperature_sensor buildplate]
sensor_type: Generic 3950
sensor_pin: PA2
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PA0
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor Raspberry_Pi]
sensor_type: temperature_host
min_temp: -40
max_temp: 120


#####################################################################
#   Fan Control
#####################################################################


[fan]
##  Print Cooling Fan
pin: EBBCan: PA0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10

[heater_fan hotend_fan]
##  Hotend Fan
pin: EBBCan: PA1
tachometer_pin: EBBCan: PA3
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
fan_speed: 1.0


#[multi_pin electronics_fans]
#pins: PB7, PB3

[controller_fan skirt_fan]
pin: PB3
kick_start_time: 0.5
fan_speed: .25
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed

[controller_fan driver_fan]
pin: PB7
kick_start_time: 0.5
fan_speed: 1.0
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed


#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 150, 142.5 
z_hop: 10
speed: 450
z_hop_speed: 15

##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions


[quad_gantry_level]
gantry_corners: 
	-60,-10
	360,370
points:
   15,0  # Point 1
   15,252  # Point 2
   285,252 # Point 3
   285,0  # Point 4
#--------------------------------------------------------------------

speed: 450
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075
max_adjust: 10


#--------------------------------------------------------------------


#####################################################################
#   Macros
#####################################################################

[bed_mesh]
zero_reference_position: 150, 142.5    
#    set this to the middle of your bed
speed: 450
#    movement speed of toolhead during bed mesh
horizontal_move_z: 5
#    height of scanner during bed mesh scan
mesh_min: 15, 23
#    start point of bed mesh [X, Y]
mesh_max: 285, 252
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic


[gcode_macro QUAD_GANTRY_SCAN]
gcode = 
    STATUS_LEVELING
	QUAD_GANTRY_LEVEL horizontal_move_z=10 retry_tolerance=1.000
	QUAD_GANTRY_LEVEL horizontal_move_z=2
    G28 Z


[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x,-y,-z

[resonance_tester]
accel_chip: adxl345
probe_points:
    150, 142.5, 20


[exclude_object]


[gcode_arcs]
resolution = 0.1

[firmware_retraction]
retract_length: 0.8
#   The length of filament (in mm) to retract when G10 is activated,
#   and to unretract when G11 is activated (but see
#   unretract_extra_length below). The default is 0 mm.
retract_speed: 30
#   The speed of retraction, in mm/s. The default is 20 mm/s.
unretract_extra_length: 0.8
#   The length (in mm) of *additional* filament to add when
#   unretracting.
unretract_speed: 30
#   The speed of unretraction, in mm/s. The default is 10 mm/s.


[pause_resume]

[gcode_macro PAUSE]
rename_existing: BASE_PAUSE
gcode:
    # Parameters
    {% set z = params.Z|default(10)|int %}                                                   ; z hop amount

    {% if printer['pause_resume'].is_paused|int == 0 %}
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE={z}                              ; set z hop variable for reference in resume macro
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=etemp VALUE={printer['extruder'].target}    ; set hotend temp variable for reference in resume macro

        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0                                  ; disable filament sensor
        SAVE_GCODE_STATE NAME=PAUSE                                                          ; save current print position for resume
        BASE_PAUSE                                                                           ; pause print
        {% if (printer.gcode_move.position.z + z) < printer.toolhead.axis_maximum.z %}       ; check that zhop doesn't exceed z max
            G91                                                                              ; relative positioning
            G1 Z{z} F900                                                                     ; raise Z up by z hop amount
        {% else %}
            { action_respond_info("Pause zhop exceeds maximum Z height.") }                  ; if z max is exceeded, show message and set zhop value for resume to 0
            SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE=0
        {% endif %}
        G90                                                                                  ; absolute positioning
        G1 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_minimum.y+5} F27000   ; park toolhead at front center
        SAVE_GCODE_STATE NAME=PAUSEPARK                                                      ; save parked position in case toolhead is moved during the pause (otherwise the return zhop can error)
        M104 S0                                                                              ; turn off hotend
        SET_IDLE_TIMEOUT TIMEOUT=43200                                                       ; set timeout to 12 hours
    {% endif %}


[gcode_macro RESUME]
rename_existing: BASE_RESUME
variable_zhop: 0
variable_etemp: 0
gcode:
    # Parameters
    {% set e = params.E|default(2.5)|int %}                                          ; hotend prime amount (in mm)

    {% if printer['pause_resume'].is_paused|int == 1 %}
        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1                          ; enable filament sensor
        #INITIAL_RGB                                                                    ; reset LCD color
        SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout}  ; set timeout back to configured value
        {% if etemp > 0 %}
            M109 S{etemp|int}                                                        ; wait for hotend to heat back up
        {% endif %}
        RESTORE_GCODE_STATE NAME=PAUSEPARK MOVE=1 MOVE_SPEED=100                     ; go back to parked position in case toolhead was moved during pause (otherwise the return zhop can error)
        G91                                                                          ; relative positioning
        M83                                                                          ; relative extruder positioning
        {% if printer[printer.toolhead.extruder].temperature >= printer.configfile.settings.extruder.min_extrude_temp %}
            G1 Z{zhop * -1} E{e} F900                                                ; prime nozzle by E, lower Z back down
        {% else %}
            G1 Z{zhop * -1} F900                                                     ; lower Z back down without priming (just in case we are testing the macro with cold hotend)
        {% endif %}
        Clean_Nozzle
        RESTORE_GCODE_STATE NAME=PAUSE MOVE=1 MOVE_SPEED=450                         ; restore position
        BASE_RESUME                                                                  ; resume print
    {% endif %}


[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:
    SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout} ; set timeout back to configured value
    CLEAR_PAUSE
    SDCARD_RESET_FILE
    PRINT_END
    BASE_CANCEL_PRINT



[gcode_macro M600]
gcode:
    {% set X = params.X|default(50)|float %}
    {% set Y = params.Y|default(0)|float %}
    {% set Z = params.Z|default(10)|float %}
    SAVE_GCODE_STATE NAME=M600_state
    PAUSE
    G91
    G1 E-.8 F2700
    G1 Z{Z}
    G90
    G1 X{X} Y{Y} F3000
    G91
    G1 E-50 F1000
    RESTORE_GCODE_STATE NAME=M600_state


[gcode_macro PARK]
gcode:
    {% set th = printer.toolhead %}
    G0 Z50 F900
    G0 X{th.axis_maximum.x//2} Y{(th.axis_maximum.y - 23)//2} F21000


[gcode_macro G32]
gcode:
   SAVE_GCODE_STATE NAME=STATE_G32
   G90
   G28
   QUAD_GANTRY_SCAN
   G28
   PARK
   RESTORE_GCODE_STATE NAME=STATE_G32


#####################################################################
#   Input Shaper
#####################################################################

[input_shaper]
shaper_freq_x: 59.2
shaper_freq_y: 41.4
shaper_type_x: mzv
shaper_type_y: mzv
damping_ratio_x: 0.056
damping_ratio_y: 0.056


#####################################################################
#   A better print_start macro for v2/trident
#####################################################################

## *** THINGS TO UNCOMMENT: ***
## Bed mesh (2 lines at 2 locations)
## Nevermore (if you have one)
## Z_TILT_ADJUST (For Trident only)
## QUAD_GANTRY_LEVEL (For V2.4 only)

[gcode_macro PRINT_START]
gcode:
  # This part fetches data from your slicer. Such as bed, extruder, and chamber temps and size of your printer.
  {% set target_bed = params.BED|int %}
  {% set target_extruder = params.EXTRUDER|int %}
  {% set target_chamber = params.CHAMBER|default("45")|int %}
  {% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
  {% set y_wait = printer.toolhead.axis_maximum.y|float / 2 %}

  SET_GCODE_OFFSET Z=0                                 # Set offset to 0
  SET_PIN PIN=caselight VALUE=15.00
  # Home the printer, set absolute positioning and update the Stealthburner LEDs.
  STATUS_HOMING                                         # Set LEDs to homing-mode
  G28                                                   # Full home (XYZ)
  G90                                                   # Absolute position

  ##  Uncomment for bed mesh (1 of 2 for bed mesh)
  BED_MESH_CLEAR                                       # Clear old saved bed mesh (if any)

  # Check if the bed temp is higher than 90c - if so then trigger a heatsoak.
  {% if params.BED|int > 90 %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    M106 S255                                           # Turn on the PT-fan


    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Heatsoak: {target_chamber}c"  # Display info on display
    TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={target_chamber}   # Waits for chamber temp

  # If the bed temp is not over 90c, then skip the heatsoak and just heat up to set temp with a 5 min soak
  {% else %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Soak for 5 min"               # Display info on display
    G4 P300000                                          # Wait 5 min for the bedtemp to stabilize
  {% endif %}

  # Heat hotend to 150c. This helps with getting a correct Z-home.
  SET_DISPLAY_TEXT MSG="Hotend: 150c"                   # Display info on display
  M109 S150                                             # Heat hotend to 150c
  Clean_Nozzle
  G28 Z

  ##  Uncomment for V2.4 (Quad gantry level AKA QGL)
  SET_DISPLAY_TEXT MSG="Leveling"                      # Display info on display
  STATUS_LEVELING                                      # Set LEDs to leveling-mode
  QUAD_GANTRY_SCAN                                     # Level the printer via QGL. Included Z home after
  ##  Uncomment for bed mesh (2 of 2 for bed mesh)
  SET_DISPLAY_TEXT MSG="Bed mesh"                      # Display info on display
  STATUS_MESHING                                       # Set LEDs to bed mesh-mode
  BED_MESH_CALIBRATE ADAPTIVE=1                        # Start the bed mesh (add ADAPTIVE=1) for adaptive bed mesh
  CARTOGRAPHER_TOUCH                                   # Calibrate z offset only with hot nozzle

  # Heat up the hotend up to target via data from slicer
  SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"     # Display info on display
  STATUS_HEATING                                        # Set LEDs to heating-mode
  G1 X{x_wait} Y{y_wait} Z15 F9000                      # Go to center of the bed
  M107                                                  # Turn off partcooling fan
  M109 S{target_extruder}                               # Heat the hotend to set temp

  # Get ready to print by doing a primeline and updating the LEDs
  SET_DISPLAY_TEXT MSG="Printer goes brr"               # Display info on display
  STATUS_PRINTING                                       # Set LEDs to printing-mode
  #G0 X{x_wait - 50} Y4 F10000                           # Go to starting point
  #G0 Z0.4                                               # Raise Z to 0.4
  G91                                                   # Incremental positioning 
  Smart_Park                                             # Parks nozzle for purge
  Line_Purge
  Clean_Nozzle
  G90                                                   # Absolute position
  SET_PIN PIN=caselight VALUE=5.00

   

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END
    
    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-10.0 F4800                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 5} F3600  ; park nozzle at rear
    M107                                     ; turn off fan
    M84
    SET_PIN PIN=caselight VALUE=0.00
    Status_Off
    SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=5
    SET_VELOCITY_LIMIT ACCEL=20000
    
    BED_MESH_CLEAR
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# scanner_touch_threshold = 1750
#*# scanner_touch_speed = 2
#*# scanner_touch_z_offset = 0.085
#*#
#*# [scanner model default]
#*# model_coef = 1.380018335223637,
#*# 	1.7889206861957476,
#*# 	0.7522880316726948,
#*# 	0.25009669481969676,
#*# 	0.3892366860582137,
#*# 	0.9163303961347693,
#*# 	-0.22419754380030288,
#*# 	-1.0497872345144292,
#*# 	0.25296755987944447,
#*# 	0.5459199866125257
#*# model_domain = 3.217143816951587e-07,3.374807100777971e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 41.736591
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.0.0
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 37.610
#*# pid_ki = 3.634
#*# pid_kd = 97.316
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 42.113
#*# pid_ki = 1.485
#*# pid_kd = 298.476
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.059979, -0.032889, -0.011756, 0.005913, 0.020711, 0.029713, 0.033786, 0.039773, 0.043414, 0.045043, 0.049062, 0.049307, 0.057306, 0.057771, 0.053932, 0.047216, 0.041230, 0.035468, 0.030429, 0.024315, 0.016535, 0.009964, 0.001085, -0.009280, -0.016275, -0.025768, -0.034487, -0.041543, -0.046226, -0.062116
#*# 	  -0.051204, -0.026727, -0.001802, 0.017879, 0.033871, 0.042600, 0.049423, 0.056026, 0.059548, 0.062264, 0.062919, 0.065345, 0.068453, 0.070762, 0.068252, 0.062401, 0.054335, 0.047766, 0.042127, 0.036676, 0.033371, 0.026026, 0.016804, 0.005932, -0.002505, -0.011194, -0.019021, -0.027463, -0.031878, -0.046531
#*# 	  -0.042080, -0.016725, 0.007820, 0.023322, 0.040278, 0.050318, 0.059276, 0.066478, 0.070748, 0.075018, 0.077244, 0.079946, 0.083619, 0.081304, 0.076342, 0.069754, 0.062513, 0.054571, 0.048487, 0.044971, 0.040136, 0.032068, 0.024456, 0.016521, 0.012040, 0.004147, -0.003317, -0.013272, -0.019682, -0.036987
#*# 	  -0.035343, -0.011728, 0.010411, 0.026892, 0.043628, 0.053921, 0.064010, 0.066264, 0.065412, 0.064866, 0.069455, 0.080517, 0.088806, 0.091729, 0.082440, 0.076816, 0.069221, 0.063353, 0.056057, 0.050166, 0.047709, 0.042990, 0.032523, 0.027761, 0.022484, 0.014090, 0.004011, -0.003987, -0.011715, -0.028988
#*# 	  -0.029907, -0.004763, 0.017173, 0.037282, 0.052886, 0.064716, 0.065763, 0.068600, 0.070094, 0.075192, 0.074384, 0.071539, 0.084529, 0.094168, 0.092029, 0.084682, 0.075494, 0.070526, 0.065320, 0.060177, 0.055989, 0.048592, 0.041489, 0.034835, 0.029679, 0.018707, 0.008171, -0.001790, -0.008213, -0.022570
#*# 	  -0.017412, 0.005132, 0.026785, 0.045311, 0.061261, 0.070164, 0.078321, 0.079490, 0.084642, 0.084484, 0.089089, 0.079171, 0.083464, 0.097798, 0.101363, 0.095883, 0.087991, 0.080215, 0.071528, 0.067719, 0.063734, 0.056648, 0.051776, 0.043854, 0.033604, 0.026740, 0.019065, 0.010374, -0.000565, -0.013764
#*# 	  -0.013192, 0.009330, 0.033773, 0.051654, 0.066798, 0.077483, 0.083527, 0.085326, 0.089703, 0.096928, 0.094224, 0.092269, 0.089540, 0.093603, 0.100862, 0.093782, 0.093813, 0.091228, 0.082771, 0.074685, 0.070712, 0.063094, 0.056882, 0.049079, 0.040920, 0.034234, 0.026035, 0.016247, 0.008329, -0.008473
#*# 	  -0.013165, 0.010375, 0.031435, 0.048685, 0.063403, 0.072541, 0.077952, 0.079948, 0.086733, 0.092984, 0.094298, 0.093034, 0.086719, 0.088506, 0.094053, 0.091387, 0.080950, 0.088741, 0.078266, 0.077767, 0.072629, 0.062788, 0.052542, 0.047718, 0.043609, 0.035559, 0.028688, 0.018628, 0.009115, -0.006975
#*# 	  -0.015490, 0.006997, 0.027529, 0.042691, 0.052825, 0.066290, 0.071116, 0.071324, 0.083420, 0.085375, 0.086984, 0.081771, 0.079436, 0.086238, 0.088582, 0.085111, 0.082420, 0.074840, 0.068058, 0.065430, 0.061481, 0.055266, 0.047672, 0.042696, 0.036692, 0.028167, 0.020178, 0.011506, 0.003862, -0.012588
#*# 	  -0.027532, -0.004380, 0.014736, 0.030088, 0.043950, 0.052903, 0.057668, 0.057161, 0.068893, 0.068744, 0.058131, 0.057131, 0.068045, 0.074210, 0.080363, 0.077120, 0.069196, 0.059344, 0.058667, 0.050360, 0.042546, 0.037343, 0.032423, 0.025330, 0.019599, 0.013183, 0.002678, -0.007220, -0.019697, -0.032165
#*# 	  -0.049348, -0.025239, -0.004980, 0.008674, 0.021657, 0.032184, 0.040882, 0.042787, 0.045601, 0.044604, 0.043826, 0.046742, 0.052885, 0.058574, 0.057866, 0.054672, 0.044836, 0.044027, 0.038367, 0.031947, 0.025293, 0.014956, 0.013563, 0.006696, 0.001812, -0.006527, -0.016149, -0.026780, -0.036938, -0.051644
#*# 	  -0.069353, -0.046416, -0.024128, -0.008739, 0.004094, 0.011941, 0.020315, 0.024724, 0.029708, 0.027318, 0.029677, 0.032248, 0.041519, 0.045652, 0.042667, 0.035468, 0.024015, 0.013267, 0.013449, 0.007862, 0.001657, -0.002437, -0.005239, -0.009388, -0.014813, -0.023698, -0.032201, -0.041397, -0.049620, -0.067686
#*# 	  -0.085925, -0.062019, -0.040841, -0.026179, -0.013504, -0.002626, 0.005815, 0.009819, 0.013385, 0.020724, 0.021865, 0.026051, 0.030225, 0.028887, 0.024091, 0.014780, 0.010459, -0.002462, -0.005991, -0.007333, -0.014932, -0.017551, -0.019311, -0.024283, -0.030146, -0.037117, -0.045108, -0.055297, -0.062029, -0.077388
#*# 	  -0.095306, -0.072234, -0.052979, -0.037587, -0.024984, -0.012865, -0.003956, -0.000166, 0.007312, 0.011288, 0.014998, 0.019835, 0.020941, 0.014865, 0.012987, 0.004378, -0.004797, -0.012432, -0.015444, -0.023251, -0.024910, -0.022391, -0.026752, -0.032510, -0.037641, -0.045783, -0.053401, -0.064781, -0.072466, -0.089085
#*# 	  -0.097024, -0.073532, -0.055881, -0.041256, -0.028655, -0.017229, -0.011385, -0.006171, 0.000777, 0.007175, 0.011744, 0.016107, 0.019866, 0.014733, 0.007125, -0.002757, -0.007254, -0.014183, -0.019015, -0.026519, -0.028065, -0.024041, -0.027309, -0.034548, -0.041727, -0.049462, -0.057975, -0.066709, -0.075634, -0.094825
#*# 	  -0.099112, -0.076452, -0.059055, -0.046091, -0.034744, -0.025649, -0.017705, -0.011937, -0.004835, 0.003134, 0.006433, 0.008950, 0.013708, 0.011743, 0.005707, -0.001149, -0.007564, -0.017542, -0.021869, -0.026547, -0.028364, -0.030260, -0.032668, -0.037685, -0.044009, -0.049326, -0.057980, -0.067644, -0.077920, -0.093397
#*# 	  -0.105840, -0.087129, -0.070225, -0.056639, -0.046805, -0.036965, -0.029348, -0.021623, -0.015496, -0.009694, -0.006918, 0.000914, 0.004404, 0.003719, -0.000821, -0.011739, -0.016850, -0.018855, -0.021438, -0.027851, -0.037269, -0.041472, -0.042945, -0.046029, -0.051769, -0.058726, -0.066707, -0.075657, -0.085799, -0.100668
#*# 	  -0.115558, -0.097064, -0.081697, -0.067560, -0.054503, -0.046290, -0.038729, -0.031059, -0.026252, -0.022322, -0.017542, -0.009430, -0.005675, -0.006177, -0.010445, -0.022859, -0.037462, -0.038638, -0.036998, -0.045738, -0.051498, -0.050646, -0.053139, -0.060063, -0.065974, -0.074127, -0.082747, -0.091964, -0.101260, -0.114607
#*# 	  -0.123272, -0.103948, -0.088084, -0.075455, -0.063644, -0.053341, -0.047264, -0.040992, -0.034671, -0.027585, -0.024737, -0.018484, -0.019740, -0.018479, -0.023456, -0.032508, -0.048286, -0.053643, -0.057436, -0.059613, -0.057266, -0.057208, -0.061246, -0.067458, -0.074348, -0.081617, -0.091272, -0.101579, -0.110631, -0.125562
#*# 	  -0.135937, -0.117503, -0.100833, -0.086349, -0.074477, -0.064917, -0.058421, -0.051704, -0.044949, -0.040531, -0.034957, -0.030443, -0.032244, -0.024643, -0.021419, -0.032282, -0.051403, -0.065160, -0.066847, -0.066616, -0.064691, -0.067659, -0.071723, -0.078830, -0.085834, -0.095648, -0.106640, -0.117725, -0.128401, -0.139522
#*# 	  -0.141415, -0.121967, -0.103669, -0.088439, -0.074142, -0.065330, -0.057895, -0.051456, -0.046976, -0.041393, -0.035307, -0.034418, -0.035434, -0.036441, -0.029929, -0.030098, -0.042732, -0.060177, -0.066013, -0.071133, -0.071145, -0.073550, -0.077962, -0.083847, -0.089000, -0.097560, -0.109739, -0.121110, -0.131300, -0.143937
#*# 	  -0.126197, -0.108123, -0.087932, -0.071985, -0.059250, -0.048497, -0.042588, -0.036997, -0.033436, -0.026875, -0.022736, -0.021735, -0.023313, -0.024044, -0.022765, -0.018724, -0.031685, -0.048649, -0.054381, -0.056811, -0.056553, -0.061094, -0.065443, -0.070353, -0.075198, -0.082182, -0.094600, -0.106456, -0.118212, -0.131945
#*# 	  -0.101035, -0.082478, -0.065387, -0.050495, -0.036923, -0.024646, -0.016842, -0.011205, -0.005863, 0.000277, 0.005563, 0.006251, 0.001824, 0.000143, 0.003244, 0.004515, -0.010718, -0.028278, -0.027670, -0.024861, -0.027871, -0.032187, -0.038268, -0.043558, -0.050043, -0.058656, -0.068890, -0.081097, -0.091791, -0.103916
#*# 	  -0.082272, -0.059932, -0.043674, -0.028581, -0.014777, -0.004149, 0.004155, 0.010059, 0.016634, 0.022714, 0.026989, 0.027085, 0.022844, 0.022078, 0.020069, 0.019750, 0.003477, -0.002636, -0.001700, -0.002633, -0.007100, -0.012957, -0.017510, -0.022767, -0.029808, -0.038799, -0.049129, -0.059770, -0.067250, -0.081676
#*# 	  -0.075247, -0.053819, -0.032032, -0.017718, -0.002825, 0.007046, 0.016135, 0.021121, 0.028704, 0.036519, 0.040742, 0.037597, 0.035064, 0.033052, 0.028970, 0.023916, 0.019889, 0.015401, 0.010766, 0.006319, 0.002542, -0.003967, -0.009197, -0.013844, -0.019668, -0.027883, -0.036884, -0.047446, -0.059342, -0.073576
#*# 	  -0.080667, -0.058848, -0.038706, -0.022758, -0.009326, 0.002679, 0.010693, 0.018439, 0.027951, 0.032493, 0.036293, 0.038460, 0.035284, 0.034339, 0.028305, 0.024093, 0.022155, 0.015563, 0.011196, 0.005987, 0.001691, -0.004115, -0.009032, -0.014116, -0.021461, -0.028604, -0.035928, -0.045426, -0.057207, -0.072331
#*# 	  -0.079187, -0.059595, -0.041542, -0.028102, -0.014614, -0.004339, 0.005117, 0.013943, 0.019424, 0.025870, 0.029767, 0.032423, 0.037061, 0.035930, 0.030880, 0.023811, 0.017492, 0.013135, 0.009226, 0.003598, -0.001301, -0.007093, -0.011785, -0.015711, -0.020916, -0.028147, -0.036194, -0.046925, -0.057707, -0.072102
#*# 	  -0.077258, -0.059174, -0.042823, -0.027187, -0.014543, -0.004824, 0.002977, 0.013876, 0.020300, 0.026385, 0.029592, 0.033938, 0.038475, 0.038201, 0.034706, 0.029136, 0.021868, 0.016381, 0.009544, 0.003579, -0.001107, -0.007360, -0.011561, -0.015307, -0.020535, -0.028176, -0.036792, -0.046407, -0.056764, -0.072866
#*# 	  -0.081417, -0.064288, -0.046789, -0.031461, -0.017851, -0.007891, 0.002763, 0.010355, 0.018079, 0.025101, 0.030399, 0.035384, 0.039133, 0.038543, 0.034478, 0.028010, 0.021864, 0.016738, 0.009342, 0.003672, -0.000750, -0.005769, -0.011588, -0.017556, -0.025426, -0.032531, -0.040244, -0.049211, -0.058640, -0.074021
#*# 	  -0.076194, -0.062165, -0.047476, -0.033036, -0.017525, -0.005595, 0.003978, 0.009992, 0.018106, 0.026281, 0.032258, 0.036282, 0.037708, 0.036250, 0.032436, 0.027280, 0.022735, 0.015844, 0.009981, 0.006169, 0.002523, -0.002921, -0.008087, -0.015755, -0.023274, -0.030943, -0.038690, -0.047938, -0.056684, -0.070412
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 15.0
#*# max_x = 285.0
#*# min_y = 23.0
#*# max_y = 252.0
#*#
#*# [axis_twist_compensation]
#*# z_compensations = 0.083769, -0.163108, 0.079340
#*# compensation_start_x = 5.0
#*# compensation_end_x = 295.0