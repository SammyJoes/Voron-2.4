[include configs/*.cfg]
[include mainsail.cfg]


# This file contains common pin mappings for the Voron Leviathan V1.1
# To use this config, the firmware should be compiled for the STM32F446 with "No bootloader"
# Enable "extra low-level configuration options" and select the "12MHz crystal" as clock reference

# See docs/Config_Reference.md for a description of parameters.

## Voron Design VORON 2 250/300/350mm Leviathan V1.1 config

## *** THINGS TO CHANGE/CHECK: ***
## MCU paths                            [mcu] section
## Thermistor types                     [extruder] and [heater_bed] sections - See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types
## Z Endstop Switch location            [safe_z_home] section
## Homing end position                  [gcode_macro G32] section
## Z Endstop Switch  offset for Z0      [stepper_z] section
## Probe points                         [quad_gantry_level] section
## Min & Max gantry corner postions     [quad_gantry_level] section
## PID tune                             [extruder] and [heater_bed] sections
## Probe pin                            [probe] section
## Fine tune E steps                    [extruder] section

#####################################################################
#   MCU Settings
#####################################################################


[mcu] # LDO Leviathan
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_510055001851323139353737-if00
restart_method: command
##--------------------------------------------------------------------

[mcu EBBCan] #BTT EBB36 Toolhead
canbus_uuid: a5efedc08bd5

[mcu scanner] #Cartographer3D
canbus_uuid: 8ed23c97b804 
#serial: /dev/serial/by-id/usb-cartographer_cartographer_

#####################################################################
#   Cartographer Settings
#####################################################################

[scanner]
mcu: scanner            
#   Offsets are measured from the center of your coil, to the tip of your nozzle 
#   on a level axis. It is vital that this is accurate. 
x_offset: -0.75                          
#    adjust for your cartographers offset from nozzle to middle of coil
y_offset: 19.5                         
#    adjust for your cartographers offset from nozzle to middle of coil
backlash_comp: 0.00381
#   Backlash compensation distance for removing Z backlash before measuring
#   the sensor response.
sensor: cartographer
#    this must be set as cartographer unless using IDM etc.
sensor_alt: carto
#    alternate name to call commands. CARTO_TOUCH etc      
mesh_runs: 2
#    Number of passes to make during mesh scan.
mode: touch


#####################################################################
#   Printer Settings
#####################################################################


[printer]
kinematics: corexy
max_velocity: 500  
max_accel: 20000
max_z_velocity: 15          #Max 15 for 12V TMC Drivers, can increase for 24V
max_z_accel: 200
square_corner_velocity: 5.0


#####################################################################
#   X/Y Stepper Settings
#####################################################################


##  B Stepper - Left
##  Connected to HV STEPPER 0
##  Endstop connected to X-ENDSTOP
[stepper_x]
step_pin: PB10
dir_pin: PB11
enable_pin: !PG0
rotation_distance: 40
microsteps: 32
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^EBBCan: PB9
position_min: 0
##--------------------------------------------------------------------

position_endstop: 300
position_max: 300

##--------------------------------------------------------------------
homing_speed: 60   #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_x]
cs_pin: PE15
spi_bus: spi4
#diag0_pin: ^!PG1
interpolate: true
run_current: 1.5
#stealthchop_threshold: 0



##  A Stepper - Right
##  Connected to HV STEPPER 1
##  Endstop connected to Y-ENDSTOP
[stepper_y]
step_pin: PF15
dir_pin: PF14
enable_pin: !PE9
rotation_distance: 40
microsteps: 32
full_steps_per_rotation:200  #set to 200 for 1.8 degree stepper
endstop_pin: ^PC2
position_min: 0
##--------------------------------------------------------------------

position_endstop: 303
position_max: 303

##--------------------------------------------------------------------
homing_speed: 60  #Max 100
homing_retract_dist: 5
homing_positive_dir: true

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc5160 stepper_y]
cs_pin: PE11
spi_bus: spi4
#diag0_pin: ^!PE10
interpolate: true
run_current: 1.5
#stealthchop_threshold: 0

 
#####################################################################
#   Z Stepper Settings
#####################################################################


## Z0 Stepper - Front Left
##  Connected to STEPPER 0
##  Endstop connected to Z-ENDSTOP
[stepper_z]
step_pin: PD4
dir_pin: !PD3
enable_pin: !PD7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32
endstop_pin: probe:z_virtual_endstop # uses cartographer as virtual endstop
homing_retract_dist: 0
##  Z-position of nozzle (in mm) to z-endstop trigger point relative to print surface (Z0)
##  (+) value = endstop above Z0, (-) value = endstop below
##  Increasing position_endstop brings nozzle closer to the bed
##  After you run Z_ENDSTOP_CALIBRATE, position_endstop will be stored at the very end of your config

position_max: 280
position_min: -5
homing_speed: 15

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z]
uart_pin: PD5
#diag_pin: ^!PD6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z1 Stepper - Rear Left
##  Connected to STEPPER 1
[stepper_z1]
step_pin: PC12
dir_pin: PC11
enable_pin: !PD2
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z1]
uart_pin: PD0
#diag_pin: ^!PD1
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z2 Stepper - Rear Right
##  Connected to STEPPER 2
[stepper_z2]
step_pin: PC9
dir_pin: !PC8
enable_pin: !PC10
rotation_distance: 40
gear_ratio: 9:1  
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z2]
uart_pin: PA8
#diag_pin: ^!PA15
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0

##  Z3 Stepper - Front Right
##  Connected to STEPPER 3
[stepper_z3]
step_pin: PG7
dir_pin: PG6
enable_pin: !PC7
rotation_distance: 40
gear_ratio: 9:1 
microsteps: 32

##  Make sure to update below for your relevant driver (2209 or 5160)
[tmc2209 stepper_z3]
uart_pin: PG8
#diag_pin: ^!PC6
interpolate: true
run_current: 0.8
#stealthchop_threshold: 0


#####################################################################
#   Extruder
#####################################################################


[extruder]
step_pin: EBBCan: PD0
dir_pin: EBBCan: PD1
enable_pin: !EBBCan: PD2
microsteps: 16
rotation_distance: 47.319989212485
gear_ratio: 9:1
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: EBBCan: PB13

sensor_type: MAX31865
sensor_pin: EBBCan: PA4
spi_bus: spi1
rtd_nominal_r: 100
rtd_reference_r: 430
rtd_num_of_wires: 2

#control: pid
#pid_Kp: 36.523
#pid_Ki: 3.581
#pid_Kd: 93.133

min_temp: 0
max_temp: 300
max_extrude_only_distance: 300
max_extrude_cross_section: 5


[tmc2209 extruder]
uart_pin: EBBCan: PA15
run_current: 0.60


#####################################################################
#   TMC Autotune
#####################################################################


[autotune_tmc stepper_x]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_y]
motor: omc-17hs19-2504s-h
voltage: 48
tuning_goal: performance

[autotune_tmc stepper_z]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: auto

[autotune_tmc stepper_z1]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z2]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc stepper_z3]
motor: ldo-42sth40-1684ac
voltage: 24
tuning_goal: performance

[autotune_tmc extruder]
motor: ldo-36sth20-1004ahg-9T
voltage: 24
tuning_goal: performance


#####################################################################
#   Bed Heater
#####################################################################


[heater_bed]
##  SSR Pin - HEATBED
##  Thermistor - TH1
heater_pin: PG11
## Check what thermistor type you have. See https://www.klipper3d.org/Config_Reference.html#common-thermistors for common thermistor types.
sensor_type: Generic 3950
sensor_pin: PA1
pullup_resistor: 2200
##  Adjust Max Power so your heater doesn't warp your bed. Rule of thumb is 0.4 watts / cm^2 .
max_power: 1.0
min_temp: 0
max_temp: 120
pwm_cycle_time: 0.02674 # 37.4Hz


#control: pid
#pid_Kp: 42.596
#pid_ki: 1.487
#pid_kd: 305.093


#####################################################################
#   Temperature Sensors
#####################################################################

[temperature_sensor buildplate]
sensor_type: Generic 3950
sensor_pin: PA2
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor chamber]
sensor_type: Generic 3950
sensor_pin: PA0
pullup_resistor: 2200
min_temp: -40
max_temp: 120

[temperature_sensor Raspberry_Pi]
sensor_type: temperature_host
min_temp: -40
max_temp: 120


#####################################################################
#   Fan Control
#####################################################################


[fan]
##  Print Cooling Fan
pin: EBBCan: PA0
kick_start_time: 0.5
##  Depending on your fan, you may need to increase this value
##  if your fan will not start. Can change cycle_time (increase)
##  if your fan is not able to slow down effectively
off_below: 0.10

[heater_fan hotend_fan]
##  Hotend Fan
pin: EBBCan: PA1
tachometer_pin: EBBCan: PA3
max_power: 1.0
kick_start_time: 0.5
heater: extruder
heater_temp: 50.0
##  If you are experiencing back flow, you can reduce fan_speed
fan_speed: 1.0


#[multi_pin electronics_fans]
#pins: PB7, PB3

[controller_fan skirt_fan]
pin: PB3
kick_start_time: 0.5
fan_speed: .25
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed

[controller_fan driver_fan]
pin: PB7
kick_start_time: 0.5
fan_speed: 1.0
idle_timeout: 60
stepper: stepper_x, stepper_y, stepper_z, stepper_z1, stepper_z2, stepper_z3
heater: heater_bed


#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

[idle_timeout]
timeout: 1800

[safe_z_home]
home_xy_position: 150.75, 131.5 
z_hop: 10
speed: 300
z_hop_speed: 15

##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions


[quad_gantry_level]
gantry_corners: 
	-60,-10
	360,370
points:
   15,0  # Point 1
   15,261  # Point 2
   285,261 # Point 3
   285,0  # Point 4
#--------------------------------------------------------------------

speed: 300
horizontal_move_z: 10
retries: 5
retry_tolerance: 0.0075
max_adjust: 10


[gcode_macro QUAD_GANTRY_SCAN]
gcode = 
	QUAD_GANTRY_LEVEL horizontal_move_z=10 retry_tolerance=1.000
	QUAD_GANTRY_LEVEL horizontal_move_z=2
    G28 Z

#--------------------------------------------------------------------


#####################################################################
#   Macros
#####################################################################

[bed_mesh]
zero_reference_position: 150, 150  
#    set this to the middle of your bed
speed: 300
#    movement speed of toolhead during bed mesh
horizontal_move_z: 5
#    height of scanner during bed mesh scan
mesh_min: 15, 20
#    start point of bed mesh [X, Y]
mesh_max: 285, 290
#    end point of bed mesh [X, Y]
probe_count: 30, 30
algorithm: bicubic



[temperature_sensor Cartographer_MCU]
sensor_type: temperature_mcu
sensor_mcu: scanner
min_temp: 0
max_temp: 105


[adxl345]
cs_pin: scanner:PA3
spi_bus: spi1
axes_map: x,-y,-z

[resonance_tester]
accel_chip: adxl345
accel_per_hz: 125 # Testing from default of 75
probe_points:
    150, 150, 20


[exclude_object]


[gcode_arcs]
resolution = 0.1

[firmware_retraction]
retract_length: 0.8
#   The length of filament (in mm) to retract when G10 is activated,
#   and to unretract when G11 is activated (but see
#   unretract_extra_length below). The default is 0 mm.
retract_speed: 30
#   The speed of retraction, in mm/s. The default is 20 mm/s.
unretract_extra_length: 0.8
#   The length (in mm) of *additional* filament to add when
#   unretracting.
unretract_speed: 30
#   The speed of unretraction, in mm/s. The default is 10 mm/s.


[pause_resume]

[gcode_macro PAUSE]
rename_existing: BASE_PAUSE
gcode:
    # Parameters
    {% set z = params.Z|default(10)|int %}                                                   ; z hop amount

    {% if printer['pause_resume'].is_paused|int == 0 %}
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE={z}                              ; set z hop variable for reference in resume macro
        SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=etemp VALUE={printer['extruder'].target}    ; set hotend temp variable for reference in resume macro

        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=0                                  ; disable filament sensor
        SAVE_GCODE_STATE NAME=PAUSE                                                          ; save current print position for resume
        BASE_PAUSE                                                                           ; pause print
        {% if (printer.gcode_move.position.z + z) < printer.toolhead.axis_maximum.z %}       ; check that zhop doesn't exceed z max
            G91                                                                              ; relative positioning
            G1 Z{z} F900                                                                     ; raise Z up by z hop amount
        {% else %}
            { action_respond_info("Pause zhop exceeds maximum Z height.") }                  ; if z max is exceeded, show message and set zhop value for resume to 0
            SET_GCODE_VARIABLE MACRO=RESUME VARIABLE=zhop VALUE=0
        {% endif %}
        G90                                                                                  ; absolute positioning
        G1 X{printer.toolhead.axis_maximum.x/2} Y{printer.toolhead.axis_minimum.y+5} F27000   ; park toolhead at front center
        SAVE_GCODE_STATE NAME=PAUSEPARK                                                      ; save parked position in case toolhead is moved during the pause (otherwise the return zhop can error)
        M104 S0                                                                              ; turn off hotend
        SET_IDLE_TIMEOUT TIMEOUT=43200                                                       ; set timeout to 12 hours
    {% endif %}


[gcode_macro RESUME]
rename_existing: BASE_RESUME
variable_zhop: 0
variable_etemp: 0
gcode:
    # Parameters
    {% set e = params.E|default(2.5)|int %}                                          ; hotend prime amount (in mm)

    {% if printer['pause_resume'].is_paused|int == 1 %}
        #SET_FILAMENT_SENSOR SENSOR=filament_sensor ENABLE=1                          ; enable filament sensor
        #INITIAL_RGB                                                                    ; reset LCD color
        SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout}  ; set timeout back to configured value
        {% if etemp > 0 %}
            M109 S{etemp|int}                                                        ; wait for hotend to heat back up
        {% endif %}
        RESTORE_GCODE_STATE NAME=PAUSEPARK MOVE=1 MOVE_SPEED=100                     ; go back to parked position in case toolhead was moved during pause (otherwise the return zhop can error)
        G91                                                                          ; relative positioning
        M83                                                                          ; relative extruder positioning
        {% if printer[printer.toolhead.extruder].temperature >= printer.configfile.settings.extruder.min_extrude_temp %}
            G1 Z{zhop * -1} E{e} F900                                                ; prime nozzle by E, lower Z back down
        {% else %}
            G1 Z{zhop * -1} F900                                                     ; lower Z back down without priming (just in case we are testing the macro with cold hotend)
        {% endif %}
        #Clean_Nozzle
        RESTORE_GCODE_STATE NAME=PAUSE MOVE=1 MOVE_SPEED=450                         ; restore position
        BASE_RESUME                                                                  ; resume print
    {% endif %}


[gcode_macro CANCEL_PRINT]
rename_existing: BASE_CANCEL_PRINT
gcode:
    SET_IDLE_TIMEOUT TIMEOUT={printer.configfile.settings.idle_timeout.timeout} ; set timeout back to configured value
    CLEAR_PAUSE
    SDCARD_RESET_FILE
    PRINT_END
    BASE_CANCEL_PRINT



[gcode_macro M600]
gcode:
    {% set X = params.X|default(150)|float %}
    {% set Y = params.Y|default(0)|float %}
    {% set Z = params.Z|default(10)|float %}
    SAVE_GCODE_STATE NAME=M600_state
    PAUSE
    G91
    G1 E-.8 F2700
    G1 Z{Z}
    G90
    G1 X{X} Y{Y} F27000
    G91
    G1 E-50 F1000
    RESTORE_GCODE_STATE NAME=M600_state


[gcode_macro PARK]
gcode:
    {% set th = printer.toolhead %}
    G0 Z20 F900
    G0 X{150} Y{150} F18000


[gcode_macro G32]
gcode:
   SAVE_GCODE_STATE NAME=STATE_G32
   G90
   G28
   QUAD_GANTRY_SCAN
   PARK
   RESTORE_GCODE_STATE NAME=STATE_G32


#####################################################################
#   Input Shaper
#####################################################################

[input_shaper]
shaper_freq_x: 65.6
shaper_freq_y: 45.6
shaper_type_x: mzv
shaper_type_y: mzv
damping_ratio_x: 0.088
damping_ratio_y: 0.059


#####################################################################
#   A better print_start macro for v2/trident
#####################################################################

## *** THINGS TO UNCOMMENT: ***
## Bed mesh (2 lines at 2 locations)
## Nevermore (if you have one)
## Z_TILT_ADJUST (For Trident only)
## QUAD_GANTRY_LEVEL (For V2.4 only)

[gcode_macro PRINT_START]
gcode:
  # This part fetches data from your slicer. Such as bed, extruder, and chamber temps and size of your printer.
  {% set target_bed = params.BED|int %}
  {% set target_extruder = params.EXTRUDER|int %}
  {% set target_chamber = params.CHAMBER|default("45")|int %}
  {% set x_wait = printer.toolhead.axis_maximum.x|float / 2 %}
  {% set y_wait = (printer.toolhead.axis_maximum.y-20)|float / 2 %}

  SET_GCODE_OFFSET Z=0                                 # Set offset to 0
  SET_PIN PIN=caselight VALUE=15.0
  # Home the printer, set absolute positioning and update the Stealthburner LEDs.
  STATUS_HOMING                                         # Set LEDs to homing-mode
  G28                                                   # Full home (XYZ)
  G90                                                   # Absolute position

  ##  Uncomment for bed mesh (1 of 2 for bed mesh)
  BED_MESH_CLEAR                                       # Clear old saved bed mesh (if any)

  # Check if the bed temp is higher than 90c - if so then trigger a heatsoak.
  {% if params.BED|int > 90 %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    M106 S255                                           # Turn on the PT-fan


    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Heatsoak: {target_chamber}c"  # Display info on display
    TEMPERATURE_WAIT SENSOR="temperature_sensor chamber" MINIMUM={target_chamber}   # Waits for chamber temp

  # If the bed temp is not over 90c, then skip the heatsoak and just heat up to set temp with a 5 min soak
  {% else %}
    SET_DISPLAY_TEXT MSG="Bed: {target_bed}c"           # Display info on display
    STATUS_HEATING                                      # Set LEDs to heating-mode
    G1 X{x_wait} Y{y_wait} Z15 F9000                    # Go to center of the bed
    M190 S{target_bed}                                  # Set the target temp for the bed
    SET_DISPLAY_TEXT MSG="Soak for 5 min"               # Display info on display
    G4 P300000                                          # Wait 5 min for the bedtemp to stabilize
  {% endif %}

  # Heat hotend to 150c. This helps with getting a correct Z-home.
  SET_DISPLAY_TEXT MSG="Hotend: 150c"                   # Display info on display
  M109 S150                                             # Heat hotend to 150c
  #Clean_Nozzle
  G28 Z

  ##  Uncomment for V2.4 (Quad gantry level AKA QGL)
  SET_DISPLAY_TEXT MSG="Leveling"                      # Display info on display
  STATUS_LEVELING                                      # Set LEDs to leveling-mode
  QUAD_GANTRY_SCAN                                     # Level the printer via QGL. Included Z home after
  ##  Uncomment for bed mesh (2 of 2 for bed mesh)
  SET_DISPLAY_TEXT MSG="Bed mesh"                      # Display info on display
  STATUS_MESHING                                       # Set LEDs to bed mesh-mode
  BED_MESH_CALIBRATE                                   # Start the bed mesh (add ADAPTIVE=1) for adaptive bed mesh
  CARTOGRAPHER_TOUCH                                   # Calibrate z offset only with hot nozzle

  # Heat up the hotend up to target via data from slicer
  SET_DISPLAY_TEXT MSG="Hotend: {target_extruder}c"     # Display info on display
  STATUS_HEATING                                        # Set LEDs to heating-mode
  G1 X{x_wait} Y{y_wait} Z15 F9000                      # Go to center of the bed
  M107                                                  # Turn off partcooling fan
  M109 S{target_extruder}                               # Heat the hotend to set temp

  # Get ready to print by doing a primeline and updating the LEDs
  SET_DISPLAY_TEXT MSG="Printer goes brr"               # Display info on display
  STATUS_PRINTING                                       # Set LEDs to printing-mode
  #G0 X{x_wait - 50} Y4 F10000                           # Go to starting point
  #G0 Z0.4                                               # Raise Z to 0.4
  G91                                                   # Incremental positioning 
  Smart_Park                                             # Parks nozzle for purge
  Line_Purge
  #Clean_Nozzle
  G90                                                   # Absolute position
  SET_PIN PIN=caselight VALUE=5.00

   

[gcode_macro PRINT_END]
#   Use PRINT_END for the slicer ending script - please customise for your slicer of choice
gcode:
    # safe anti-stringing move coords
    {% set th = printer.toolhead %}
    {% set x_safe = th.position.x + 20 * (1 if th.axis_maximum.x - th.position.x > 20 else -1) %}
    {% set y_safe = th.position.y + 20 * (1 if th.axis_maximum.y - th.position.y > 20 else -1) %}
    {% set z_safe = [th.position.z + 2, th.axis_maximum.z]|min %}
    
    SAVE_GCODE_STATE NAME=STATE_PRINT_END
    
    M400                           ; wait for buffer to clear
    G92 E0                         ; zero the extruder
    G1 E-10.0 F4800                 ; retract filament
    
    TURN_OFF_HEATERS
    
    G90                                      ; absolute positioning
    G0 X{x_safe} Y{y_safe} Z{z_safe} F20000  ; move nozzle to remove stringing
    G0 X{th.axis_maximum.x//2} Y{th.axis_maximum.y - 5} F3300  ; park nozzle at rear
    M107                                     ; turn off fan
    M84
    SET_PIN PIN=caselight VALUE=0.00
    Status_Off
    SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=5
    SET_VELOCITY_LIMIT ACCEL=20000
    
    BED_MESH_CLEAR
    RESTORE_GCODE_STATE NAME=STATE_PRINT_END

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [scanner]
#*# scanner_touch_threshold = 2750
#*# scanner_touch_speed = 2
#*# scanner_touch_z_offset = 0.090
#*#
#*# [scanner model default]
#*# model_coef = 1.4973848846829272,
#*# 	  1.8357152721404495,
#*# 	  0.7463083289378508,
#*# 	  0.23346813918315298,
#*# 	  0.37688928751761763,
#*# 	  0.610036548441711,
#*# 	  -0.22807709705111412,
#*# 	  -0.524834320341939,
#*# 	  0.25831102440264836,
#*# 	  0.2973609378663102
#*# model_domain = 3.242374242264305e-07,3.3777824138926767e-07
#*# model_range = 0.200000,5.100000
#*# model_temp = 54.042350
#*# model_offset = 0.00000
#*# model_mode = touch
#*# model_fw_version = CARTOGRAPHER 5.1.0
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 37.610
#*# pid_ki = 3.634
#*# pid_kd = 97.316
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 42.113
#*# pid_ki = 1.485
#*# pid_kd = 298.476
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.010049, 0.025754, 0.026358, 0.026877, 0.025386, 0.029118, 0.027818, 0.040112, 0.030509, 0.022066, 0.013822, 0.011176, 0.007825, 0.006875, 0.003159, -0.000352, -0.001361, -0.002106, -0.005030, -0.005931, -0.007466, -0.006872, -0.005817, -0.002858, -0.002299, -0.002177, -0.003767, -0.003420, -0.000916, 0.000163
#*# 	  0.005498, 0.023367, 0.031591, 0.031672, 0.032357, 0.028730, 0.035140, 0.039659, 0.037128, 0.030417, 0.021781, 0.018142, 0.013478, 0.012432, 0.008755, 0.008393, 0.003113, 0.009424, 0.003205, 0.004255, -0.005900, 0.005131, -0.007341, 0.007042, -0.004657, 0.006262, -0.006571, 0.008273, -0.002911, 0.013851
#*# 	  0.014578, 0.034221, 0.030730, 0.039263, 0.040598, 0.049256, 0.048928, 0.055189, 0.052921, 0.049467, 0.041980, 0.039451, 0.034844, 0.028919, 0.027749, 0.021342, 0.021959, 0.018825, 0.022016, 0.015301, 0.020514, 0.017121, 0.022557, 0.018019, 0.021449, 0.016155, 0.021243, 0.017727, 0.025946, 0.021909
#*# 	  0.045603, 0.044769, 0.045917, 0.050380, 0.063073, 0.067782, 0.082341, 0.077351, 0.078022, 0.069744, 0.070005, 0.061159, 0.066188, 0.052646, 0.055785, 0.042516, 0.049796, 0.039094, 0.047185, 0.035008, 0.049542, 0.036783, 0.043134, 0.037260, 0.044623, 0.036987, 0.047460, 0.049568, 0.050128, 0.050706
#*# 	  0.049524, 0.060420, 0.068068, 0.065028, 0.079583, 0.081820, 0.089124, 0.079139, 0.083374, 0.066120, 0.075369, 0.071982, 0.078227, 0.064559, 0.066519, 0.052852, 0.056222, 0.052684, 0.053782, 0.048549, 0.051497, 0.050828, 0.050876, 0.053273, 0.057408, 0.058233, 0.054802, 0.059666, 0.056881, 0.058740
#*# 	  0.047455, 0.073039, 0.073755, 0.086308, 0.086689, 0.095122, 0.088015, 0.089013, 0.083605, 0.081892, 0.069026, 0.072322, 0.073031, 0.073826, 0.070246, 0.064596, 0.059794, 0.058522, 0.060717, 0.055831, 0.060551, 0.056395, 0.065239, 0.054599, 0.070448, 0.055892, 0.069620, 0.053247, 0.069589, 0.055958
#*# 	  0.066191, 0.082640, 0.091600, 0.096659, 0.107718, 0.105001, 0.105394, 0.097037, 0.094376, 0.092856, 0.082613, 0.084612, 0.078853, 0.086816, 0.076464, 0.076810, 0.068863, 0.073412, 0.061836, 0.069332, 0.061764, 0.069597, 0.065168, 0.072243, 0.066936, 0.073983, 0.067556, 0.075263, 0.067342, 0.075766
#*# 	  0.079401, 0.089843, 0.096930, 0.107817, 0.109263, 0.114206, 0.108512, 0.110930, 0.100007, 0.100165, 0.094174, 0.095691, 0.088101, 0.098868, 0.082381, 0.089758, 0.078041, 0.084486, 0.072524, 0.085556, 0.070830, 0.084257, 0.072156, 0.080764, 0.074672, 0.083526, 0.077781, 0.085366, 0.084060, 0.083315
#*# 	  0.076963, 0.091023, 0.088552, 0.103011, 0.099213, 0.110460, 0.101977, 0.110892, 0.094238, 0.100153, 0.086181, 0.092864, 0.081901, 0.091734, 0.076770, 0.082832, 0.082166, 0.080481, 0.073657, 0.078461, 0.072891, 0.073727, 0.074351, 0.077686, 0.079862, 0.080731, 0.081494, 0.079176, 0.081276, 0.074276
#*# 	  0.057772, 0.068946, 0.077648, 0.077890, 0.089971, 0.083643, 0.090387, 0.080999, 0.081221, 0.075062, 0.073918, 0.067893, 0.068234, 0.068782, 0.061695, 0.061420, 0.060416, 0.064951, 0.055532, 0.062149, 0.053958, 0.060950, 0.049670, 0.065574, 0.053949, 0.067932, 0.053136, 0.066992, 0.051371, 0.062568
#*# 	  0.031674, 0.051488, 0.053191, 0.061948, 0.062234, 0.064055, 0.062351, 0.059489, 0.056023, 0.051812, 0.048453, 0.039384, 0.043100, 0.037279, 0.044476, 0.033275, 0.039937, 0.033390, 0.036945, 0.026670, 0.033458, 0.024072, 0.033978, 0.032795, 0.041913, 0.032985, 0.039997, 0.030062, 0.036609, 0.027751
#*# 	  0.011036, 0.026542, 0.037416, 0.040505, 0.047213, 0.045648, 0.048875, 0.041691, 0.043922, 0.034472, 0.037047, 0.027346, 0.035944, 0.027194, 0.031235, 0.019071, 0.024260, 0.011210, 0.018258, 0.005530, 0.020230, 0.009139, 0.026573, 0.017530, 0.025362, 0.017798, 0.024151, 0.017109, 0.023653, 0.022546
#*# 	  -0.004243, 0.008099, 0.020645, 0.019774, 0.030199, 0.027358, 0.036897, 0.025707, 0.030716, 0.019440, 0.026685, 0.015036, 0.023286, 0.012870, 0.017728, 0.008016, 0.008505, 0.001921, 0.001831, -0.003559, -0.000570, 0.003683, 0.005888, 0.010449, 0.012320, 0.011668, 0.009136, 0.012270, 0.007781, 0.009945
#*# 	  -0.018425, 0.003474, 0.002803, 0.011650, 0.013278, 0.022222, 0.017739, 0.017643, 0.010190, 0.012090, 0.007803, 0.010784, 0.006014, 0.008076, 0.001209, -0.002784, -0.004868, -0.008731, -0.007504, -0.015197, -0.002438, -0.005962, 0.003110, 0.000529, 0.008647, -0.003746, 0.009411, -0.004547, 0.006489, -0.007159
#*# 	  -0.014996, -0.000507, 0.008382, 0.009104, 0.015343, 0.012779, 0.012122, 0.009817, 0.008611, 0.007846, 0.002785, 0.004866, 0.001023, 0.002385, -0.007413, -0.004611, -0.015425, -0.010079, -0.020298, -0.014145, -0.019272, -0.007731, -0.011839, -0.002688, -0.005641, 0.000580, -0.004476, 0.000664, -0.008196, -0.004474
#*# 	  -0.019648, -0.006157, -0.002515, 0.005640, 0.004275, 0.005519, 0.003501, 0.005473, 0.001417, 0.002627, -0.007831, 0.000209, -0.007686, -0.001428, -0.012340, -0.011482, -0.024344, -0.013799, -0.025624, -0.015045, -0.027408, -0.015052, -0.021512, -0.012182, -0.015418, -0.007357, -0.012735, -0.008249, -0.015823, -0.012560
#*# 	  -0.025449, -0.010500, -0.014885, -0.002117, -0.008950, 0.000289, -0.010638, -0.003970, -0.012712, -0.007395, -0.018445, -0.009109, -0.018038, -0.012775, -0.019381, -0.024958, -0.030407, -0.029444, -0.031124, -0.030416, -0.033087, -0.032060, -0.027172, -0.027569, -0.021945, -0.022810, -0.021070, -0.025048, -0.023976, -0.027683
#*# 	  -0.032140, -0.024987, -0.018850, -0.019774, -0.011883, -0.017331, -0.015191, -0.022711, -0.021815, -0.025708, -0.022813, -0.026275, -0.026624, -0.035327, -0.040280, -0.042897, -0.044044, -0.043473, -0.046003, -0.040740, -0.044611, -0.035118, -0.036664, -0.028205, -0.038361, -0.028610, -0.038987, -0.031138, -0.042930, -0.035698
#*# 	  -0.047576, -0.034027, -0.031141, -0.022961, -0.024202, -0.023047, -0.023911, -0.030982, -0.030973, -0.035735, -0.032921, -0.038993, -0.036185, -0.047655, -0.042542, -0.052285, -0.048859, -0.058901, -0.056371, -0.060621, -0.053844, -0.055771, -0.046541, -0.048295, -0.042018, -0.048375, -0.045328, -0.052797, -0.050565, -0.054551
#*# 	  -0.043664, -0.032060, -0.023721, -0.021501, -0.012760, -0.014488, -0.014667, -0.019232, -0.020569, -0.025104, -0.023824, -0.032103, -0.030010, -0.041774, -0.036572, -0.043712, -0.038063, -0.054978, -0.048557, -0.061341, -0.048847, -0.055771, -0.039623, -0.045926, -0.038198, -0.042920, -0.039961, -0.047910, -0.046266, -0.053439
#*# 	  -0.017639, -0.009120, -0.000420, -0.001416, 0.009801, 0.004501, 0.012505, 0.001018, 0.005177, -0.001913, 0.000605, -0.006274, -0.005581, -0.012590, -0.011495, -0.014035, -0.016163, -0.027853, -0.027161, -0.027540, -0.023599, -0.021991, -0.018255, -0.014867, -0.014618, -0.013915, -0.017370, -0.019970, -0.026147, -0.023127
#*# 	  0.003022, 0.020053, 0.022567, 0.028427, 0.030381, 0.036584, 0.031425, 0.029193, 0.025674, 0.026448, 0.021470, 0.021282, 0.015084, 0.014785, 0.012287, 0.010358, 0.004266, -0.001534, 0.003442, -0.001186, 0.007285, 0.003098, 0.011614, 0.009927, 0.016358, 0.005710, 0.013967, 0.000175, 0.008016, -0.000582
#*# 	  0.009535, 0.023986, 0.032633, 0.036334, 0.044822, 0.042824, 0.043750, 0.037821, 0.035273, 0.038286, 0.031315, 0.030194, 0.025403, 0.025767, 0.020556, 0.021626, 0.013068, 0.011475, 0.006155, 0.008513, 0.006368, 0.009538, 0.010954, 0.016849, 0.017082, 0.019994, 0.015673, 0.015581, 0.011119, 0.008990
#*# 	  0.000357, 0.013816, 0.019019, 0.026117, 0.026611, 0.030136, 0.027372, 0.032669, 0.028896, 0.026272, 0.019652, 0.023331, 0.014175, 0.020976, 0.009856, 0.011451, 0.001667, 0.005477, -0.004721, 0.002983, -0.005747, 0.005603, 0.000592, 0.007796, 0.005309, 0.010793, 0.006493, 0.008553, 0.000680, 0.001425
#*# 	  -0.001252, 0.012097, 0.010197, 0.018796, 0.016842, 0.021792, 0.013638, 0.021499, 0.014069, 0.018576, 0.009143, 0.012677, 0.009973, 0.009663, 0.005572, 0.001326, -0.003462, -0.004270, -0.006263, -0.005482, -0.011306, -0.008669, -0.006151, -0.002510, 0.001474, 0.001687, 0.001711, -0.001428, -0.003942, -0.009454
#*# 	  -0.003799, 0.004567, 0.009715, 0.013444, 0.018371, 0.017661, 0.019603, 0.016181, 0.014693, 0.010960, 0.011566, 0.008558, 0.009718, 0.005711, 0.004305, 0.000476, -0.003162, -0.002322, -0.008041, -0.006309, -0.009811, -0.004319, -0.005979, 0.001744, -0.001495, 0.003967, -0.004668, 0.001965, -0.008377, -0.008056
#*# 	  -0.005521, 0.006170, 0.007269, 0.011537, 0.016638, 0.019681, 0.018568, 0.016882, 0.015676, 0.013682, 0.015219, 0.012819, 0.011971, 0.006854, 0.004092, 0.000307, 0.000638, -0.003515, -0.004161, -0.006555, -0.005991, -0.004384, -0.001696, -0.000432, -0.000067, 0.000249, 0.001210, -0.000795, -0.001907, -0.005265
#*# 	  0.005406, 0.015035, 0.016257, 0.022278, 0.030610, 0.029893, 0.026934, 0.025811, 0.025837, 0.021799, 0.020458, 0.016810, 0.016256, 0.011883, 0.011147, 0.005755, 0.005187, -0.000030, 0.002497, -0.000639, 0.003056, -0.000557, 0.005632, 0.003950, 0.006839, 0.005625, 0.008833, 0.003163, 0.004071, 0.000273
#*# 	  0.014796, 0.022869, 0.027289, 0.027955, 0.042906, 0.042054, 0.042638, 0.039614, 0.039481, 0.033659, 0.031659, 0.026612, 0.027590, 0.025796, 0.022435, 0.017686, 0.015731, 0.010406, 0.009047, 0.009013, 0.008978, 0.011040, 0.013695, 0.015401, 0.017093, 0.020559, 0.018218, 0.016397, 0.013228, 0.011149
#*# 	  0.001362, 0.002877, 0.007834, 0.014636, 0.020452, 0.024292, 0.024232, 0.023677, 0.022398, 0.017328, 0.012092, 0.008394, 0.006518, 0.003174, 0.000387, -0.003165, -0.004244, -0.008076, -0.011777, -0.013510, -0.013102, -0.012265, -0.010146, -0.010380, -0.002782, -0.004561, -0.000473, -0.004428, -0.003462, -0.006511
#*# x_count = 30
#*# y_count = 30
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 15.0
#*# max_x = 285.0
#*# min_y = 20.0
#*# max_y = 290.0
